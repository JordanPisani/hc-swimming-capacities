import{r as e,o as a,c as t,a as s,b as o,F as n,d as r,w as i,e as l,f as c,t as d,g as m,h as p,i as u,j as y}from"./vendor.2db09a9c.js";!function(e=".",a="__import__"){try{self[a]=new Function("u","return import(u)")}catch(t){const s=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[a]=e=>new Promise(((t,n)=>{const r=new URL(e,s);if(self[a].moduleMap[r])return t(self[a].moduleMap[r]);const i=new Blob([`import * as m from '${r}';`,`${a}.moduleMap['${r}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){n(new Error(`Failed to import: ${e}`)),o(l)},onload(){t(self[a].moduleMap[r]),o(l)}});document.head.appendChild(l)})),self[a].moduleMap={}}}("assets/");const f={setup:()=>({})};f.render=function(s,o,n,r,i,l){const c=e("router-view");return a(),t(c)};var g=s.create({baseURL:"https://api.airtable.com/v0/app04gpmKMySbcl3B",headers:{Authorization:"Bearer key1XrFuYhG1GKHvu"}});const h=o({error:"",loading:!1,data:[]});const v={setup:()=>(async function(){h.loading=!0;try{const{data:e}=await g.get("/locations",{params:{view:"Grid view"}});h.data=e.records}catch(e){h.error=e.message}finally{h.loading=!1}}(),{locations:h})},w={key:0,class:"text-center my-5"},b=l("div",{class:"spinner-border",role:"status"},[l("span",{class:"visually-hidden"},"Loading...")],-1),k={key:1,class:"list-group"},R={key:2,class:"alert alert-info",role:"alert"};v.render=function(s,o,l,m,p,u){const y=e("router-link");return m.locations.loading?(a(),t("div",w,[b])):m.locations.data.length?(a(),t("div",k,[(a(!0),t(n,null,r(m.locations.data,(({id:e,fields:s})=>(a(),t(y,{key:e,to:{name:"Location",params:{sitecoreItemId:s.GUID}},class:"list-group-item list-group-item-action"},{default:i((()=>[c(d(s.name),1)])),_:2},1032,["to"])))),128))])):(a(),t("div",R," No locations are offering programming at this time. "))};const I=o({error:"",loading:!1,data:[]});const L={props:{sitecoreItemId:String},setup:e=>(async function(e){I.loading=!0;try{const{data:a}=await g.get("/sessions",{params:{filterByFormula:`'${e}' = ARRAYJOIN({LocationGUID})`,view:"Grid view"}});I.data=a.records}catch(a){I.error=a.message}finally{I.loading=!1}}(e.sitecoreItemId),{sessions:I})},U={key:0,class:"text-center my-5"},A=l("div",{class:"spinner-border",role:"status"},[l("span",{class:"visually-hidden"},"Loading...")],-1),j={key:1,class:"accordion accordion-flush"},x={key:0},C={key:1},G={key:0},M={key:2,class:"alert alert-info",role:"alert"};L.render=function(e,s,o,i,p,u){return i.sessions.loading?(a(),t("div",U,[A])):i.sessions.data.length?(a(),t("div",j,[(a(!0),t(n,null,r(i.sessions.data,(({fields:e,id:s})=>(a(),t("div",{key:s,class:["alert text-center d-flex flex-column flex-md-row justify-content-between",e.InclementWeather||e.CapacityReached||e.Available<=0?"alert-warning":"alert-primary"],role:"alert"},[l("span",null,[l("strong",null,d(e.SessionName),1),c(" - "+d(e.Times),1)]),e.InclementWeather?(a(),t("strong",x," Severe Weather ")):e.CapacityReached||e.Available<=0?(a(),t("strong",C," Capacity Limit Reached ")):m("",!0),l("span",null,[!e.CapacityReached&&e.Available>0?(a(),t("span",G,"~")):m("",!0),c(" "+d(e.CapacityReached?0:e.Available)+" / "+d(e.Capacity)+" Swimming Slots Available ",1)])],2)))),128))])):(a(),t("div",M," There are no swim sessions at this time. "))};const S=[{path:"/",name:"Home",component:v},{path:"/:sitecoreItemId",name:"Location",component:L,props:!0}],F=p({history:u(),routes:S});y(f).use(F).mount("#app");
